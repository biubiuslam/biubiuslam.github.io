
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>SLAM初探一：Linux安装OpenCV4 | SLAM这件小事</title>
<meta name="description" content="Talk is cheap， Show me the code！">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://biubiuslam.github.io/favicon.ico?v=1583244357754">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://biubiuslam.github.io/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://biubiuslam.github.io">
        <img class="avatar" src="https://biubiuslam.github.io/images/avatar.png?v=1583244357754" alt="" width="32px" height="32px">
      </a>
      <a href="https://biubiuslam.github.io">
        <h1 class="site-title">SLAM这件小事</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            首页
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            归档
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            标签
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            关于
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">SLAM初探一：Linux安装OpenCV4</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2020-03-03</span>
            
          </div>
          <div class="post-content">
            <h2 id="安装依赖">安装依赖</h2>
<p>必须要安装的依赖，通过命令安装：</p>
<pre><code>sudo apt-get install build-essential cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev
</code></pre>
<pre><code>sudo apt-get install python-dev python-numpy python3-dev python3-numpy
sudo apt-get install libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev   //可选择安装，具体参考OpenCV官方说明，这个可能会变！
</code></pre>
<h2 id="安装opencv4">安装OpenCV4</h2>
<p>下载OpenCV4的源码安装包，可在OpenCV官方GitHub上面找到，然后解压，新建build文件夹，进入文件夹：</p>
<pre><code>cmake -DCMAKE_BUILD_TYPE=Release \
-DOPENCV_GENERATE_PKGCONFIG=ON \
-DCMAKE_INSTALL_PREFIX=/usr/local ..
</code></pre>
<p>OpenCV4默认不生成.pc文件，<strong>OPENCV_GENERATE_PKGCONFIG=ON</strong>才会生成。</p>
<pre><code>sudo make -j8
sudo make install
</code></pre>
<p>然后就是配置c++了,先在/etc/ld.so.conf.d/文件夹下新建一个opencv4.conf，里面写入/usr/local/lib。</p>
<pre><code>cd /etc/ld.so.conf.d/
sudo touch opencv4.conf
sudo sh -c 'echo &quot;/usr/local/lib&quot; &gt; opencv4.conf'
</code></pre>
<p>更新pkg-config：<br>
<code>sudo ldconfig</code><br>
之后可以在终端输入<strong>pkg-config --libs opencv4</strong>和<strong>pkg-config --cflags opencv4</strong>检验一下是否安装成功。</p>
<h2 id="opencv的卸载">OpenCV的卸载</h2>
<p>删掉opencv4.conf文件，然后在源码包下的build文件夹下运行<strong>sudo make uinstall</strong>即可。</p>

          </div>
        </div>

        
      </div>

      

      <div class="site-footer">
  <div class="slogan">Talk is cheap， Show me the code！</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://biubiuslam.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
